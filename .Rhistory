############REVISAR
ez_results <- ezANOVA(
data = datos,                # El dataframe con los datos
dv = lswi,                   # La variable dependiente (lo que queremos analizar)
wid = wetland_name,          # réplica o factor aleatorio entre réplicas (en este caso los humedales)
within_full = .(year),       # variable interna dentro del diseño que se debe al tiempo + _full porque los valores no han sido condensados en una única cifra
between=wetland_or_buffer,   # entre qué queremos comparar: factor
detailed = TRUE              # Para obtener todos los resultados detallados
)
############REVISAR
ez_results <- ezANOVA(
data = datos,                # El dataframe con los datos
dv = lswi,                   # La variable dependiente (lo que queremos analizar)
wid = wetland_name,          # réplica o factor aleatorio entre réplicas (en este caso los humedales)
within_full = .(year_periods),       # variable interna dentro del diseño que se debe al tiempo + _full porque los valores no han sido condensados en una única cifra
between=wetland_or_buffer,   # entre qué queremos comparar: factor
detailed = TRUE              # Para obtener todos los resultados detallados
)
ez_results
############REVISAR
ez_results <- ezANOVA(
data = datos,                # El dataframe con los datos
dv = lswi_periods,                   # La variable dependiente (lo que queremos analizar)
wid = wetland_name,          # réplica o factor aleatorio entre réplicas (en este caso los humedales)
within_full = .(year_periods),       # variable interna dentro del diseño que se debe al tiempo + _full porque los valores no han sido condensados en una única cifra
between=wetland_or_buffer,   # entre qué queremos comparar: factor
detailed = TRUE              # Para obtener todos los resultados detallados
)
ez_results
############REVISAR
ez_results <- ezANOVA(
data = datos,                # El dataframe con los datos
dv = lswi_periods,                   # La variable dependiente (lo que queremos analizar)
wid = wetland_name,          # réplica o factor aleatorio entre réplicas (en este caso los humedales)
within_full = .(year_periods),       # variable interna dentro del diseño que se debe al tiempo + _full porque los valores no han sido condensados en una única cifra
between=wetland_or_buffer+protection_yes_no,   # entre qué queremos comparar: factor
detailed = TRUE              # Para obtener todos los resultados detallados
)
ez_results
############REVISAR
ez_results <- ezANOVA(
data = datos,                # El dataframe con los datos
dv = lswi_periods,                   # La variable dependiente (lo que queremos analizar)
wid = wetland_name,          # réplica o factor aleatorio entre réplicas (en este caso los humedales)
within_full = .(year_periods),       # variable interna dentro del diseño que se debe al tiempo + _full porque los valores no han sido condensados en una única cifra
between=.,   # entre qué queremos comparar: factor
detailed = TRUE              # Para obtener todos los resultados detallados
)
ez_results
############REVISAR
ez_results <- ezANOVA(
data = datos,                # El dataframe con los datos
dv = lswi_periods,                   # La variable dependiente (lo que queremos analizar)
wid = wetland_name,          # réplica o factor aleatorio entre réplicas (en este caso los humedales)
within_full = .(year_periods),       # variable interna dentro del diseño que se debe al tiempo + _full porque los valores no han sido condensados en una única cifra
between=wetland_or_buffer+protection_yes_no+hydro_periods+location+environmental_protection+conservation+sup_ha+perim_m+COD_IHA,
,   # entre qué queremos comparar: factor
detailed = TRUE              # Para obtener todos los resultados detallados
)
ez_results
############REVISAR
ez_results <- ezANOVA(
data = datos,                # El dataframe con los datos
dv = lswi_periods,                   # La variable dependiente (lo que queremos analizar)
wid = wetland_name,          # réplica o factor aleatorio entre réplicas (en este caso los humedales)
within_full = .(year_periods),       # variable interna dentro del diseño que se debe al tiempo + _full porque los valores no han sido condensados en una única cifra
between=wetland_or_buffer+protection_yes_no+hydro_periods,
,   # entre qué queremos comparar: factor
detailed = TRUE              # Para obtener todos los resultados detallados
)
ez_results
############REVISAR
ez_results <- ezANOVA(
data = datos,                # El dataframe con los datos
dv = lswi_periods,                   # La variable dependiente (lo que queremos analizar)
wid = wetland_name,          # réplica o factor aleatorio entre réplicas (en este caso los humedales)
within_full = .(year_periods),       # variable interna dentro del diseño que se debe al tiempo + _full porque los valores no han sido condensados en una única cifra
between=hydro_periods,
,   # entre qué queremos comparar: factor
detailed = TRUE              # Para obtener todos los resultados detallados
)
ez_results
############REVISAR
ez_results <- ezANOVA(
data = datos,                # El dataframe con los datos
dv = lswi_periods,                   # La variable dependiente (lo que queremos analizar)
wid = wetland_name,          # réplica o factor aleatorio entre réplicas (en este caso los humedales)
within_full = .(year_periods),       # variable interna dentro del diseño que se debe al tiempo + _full porque los valores no han sido condensados en una única cifra
between=location,
,   # entre qué queremos comparar: factor
detailed = TRUE              # Para obtener todos los resultados detallados
)
ez_results
############REVISAR
ez_results <- ezANOVA(
data = datos,                # El dataframe con los datos
dv = lswi_periods,                   # La variable dependiente (lo que queremos analizar)
wid = wetland_name,          # réplica o factor aleatorio entre réplicas (en este caso los humedales)
within_full = .(year_periods),       # variable interna dentro del diseño que se debe al tiempo + _full porque los valores no han sido condensados en una única cifra
between=environmental_protection,
,   # entre qué queremos comparar: factor
detailed = TRUE              # Para obtener todos los resultados detallados
)
ez_results
############REVISAR
ez_results <- ezANOVA(
data = datos,                # El dataframe con los datos
dv = lswi_periods,                   # La variable dependiente (lo que queremos analizar)
wid = wetland_name,          # réplica o factor aleatorio entre réplicas (en este caso los humedales)
within_full = .(year_periods),       # variable interna dentro del diseño que se debe al tiempo + _full porque los valores no han sido condensados en una única cifra
between=conservation,
,   # entre qué queremos comparar: factor
detailed = TRUE              # Para obtener todos los resultados detallados
)
ez_results
############REVISAR
ez_results <- ezANOVA(
data = datos,                # El dataframe con los datos
dv = lswi_periods,                   # La variable dependiente (lo que queremos analizar)
wid = wetland_name,          # réplica o factor aleatorio entre réplicas (en este caso los humedales)
within_full = .(year_periods),       # variable interna dentro del diseño que se debe al tiempo + _full porque los valores no han sido condensados en una única cifra
between=sup_ha,
,   # entre qué queremos comparar: factor
detailed = TRUE              # Para obtener todos los resultados detallados
)
ez_results
############REVISAR
ez_results <- ezANOVA(
data = datos,                # El dataframe con los datos
dv = lswi_periods,                   # La variable dependiente (lo que queremos analizar)
wid = wetland_name,          # réplica o factor aleatorio entre réplicas (en este caso los humedales)
within_full = .(year_periods),       # variable interna dentro del diseño que se debe al tiempo + _full porque los valores no han sido condensados en una única cifra
between=perim_m,
,   # entre qué queremos comparar: factor
detailed = TRUE              # Para obtener todos los resultados detallados
)
ez_results
############REVISAR
ez_results <- ezANOVA(
data = datos,                # El dataframe con los datos
dv = lswi_periods,                   # La variable dependiente (lo que queremos analizar)
wid = wetland_name,          # réplica o factor aleatorio entre réplicas (en este caso los humedales)
within_full = .(year_periods),       # variable interna dentro del diseño que se debe al tiempo + _full porque los valores no han sido condensados en una única cifra
between=COD_IHA,
,   # entre qué queremos comparar: factor
detailed = TRUE              # Para obtener todos los resultados detallados
)
ez_results
modeloAMR2 <- lmer(lswi ~ . + (1 | wetland_name) + (1 | year_periods), data = datos)  # A este se le comprueba todas las asunciones menos la de esfericidad
modeloAMR2 <- lmer(lswi_periods ~ . + (1 | wetland_name) + (1 | year_periods), data = datos)  # A este se le comprueba todas las asunciones menos la de esfericidad
modeloAMR2 <- lmer(lswi_periods ~ protection_yes_no+ hydro_periods+ location+ environmental_protection+ conservation + sup_ha+ perim_m+COD_IHA + (1 | wetland_name) + (1 | year_periods)+ data = datos)  # A este se le comprueba todas las asunciones menos la de esfericidad
modeloAMR2 <- lmer(lswi_periods ~ protection_yes_no+ hydro_periods+ location+ environmental_protection+ conservation + sup_ha+ perim_m+COD_IHA + (1 | wetland_name) + (1 | year_periods), data = datos)  # A este se le comprueba todas las asunciones menos la de esfericidad
#PAQUETES DE R: ASUNCIONES
library(nortest)
modeloAMR2
datos <-read_excel("Excel/LSWI_zones_hum_buf.xlsx", sheet=1)
datos.p <-read_excel("Excel/LSWI_zones_hum_buf.xlsx", sheet=2)
# ANOVA de medidas repetidas con ezANOVA
library(ez)
datos$wetland_name <- as.factor(datos$wetland_name)
datos$year_periods <- as.factor(datos$year_periods)
table(datos$protection_yes_no)
datos$wetland_name <- as.factor(datos$wetland_name)
datos$year <- as.factor(datos$year)
datos.p$year_periods <- as.factor(datos.p$year_periods)
datos$protection_yes_no <- as.factor(datos$protection_yes_no)
datos.p$protection_yes_no <- as.factor(datos.p$protection_yes_no)
############REVISAR
ez_results <- ezANOVA(
data = datos,                # El dataframe con los datos
dv = lswi,                   # La variable dependiente (lo que queremos analizar)
wid = wetland_name,          # réplica o factor aleatorio entre réplicas (en este caso los humedales)
within_full = .(year),       # variable interna dentro del diseño que se debe al tiempo + _full porque los valores no han sido condensados en una única cifra
between=wetland_or_buffer,
,   # entre qué queremos comparar: factor
detailed = TRUE              # Para obtener todos los resultados detallados
)
############REVISAR
ez_results <- ezANOVA(
data = datos,                # El dataframe con los datos
dv = lswi,                   # La variable dependiente (lo que queremos analizar)
wid = wetland_name,          # réplica o factor aleatorio entre réplicas (en este caso los humedales)
within_full = .(year),       # variable interna dentro del diseño que se debe al tiempo + _full porque los valores no han sido condensados en una única cifra
between=wetland_or_buffer,
,   # entre qué queremos comparar: factor
detailed = TRUE              # Para obtener todos los resultados detallados
)
ez_results
ez_results.p <- ezANOVA(
data = datos,                # El dataframe con los datos
dv = lswi_periods,                   # La variable dependiente (lo que queremos analizar)
wid = wetland_name,          # réplica o factor aleatorio entre réplicas (en este caso los humedales)
within_full = .(year_periods),       # variable interna dentro del diseño que se debe al tiempo + _full porque los valores no han sido condensados en una única cifra
between=wetland_or_buffer,
,   # entre qué queremos comparar: factor
detailed = TRUE              # Para obtener todos los resultados detallados
)
ez_results.p
modeloAMR2 <- lmer(lswi_periods ~ protection_yes_no+ hydro_periods+ location+ environmental_protection+ conservation + sup_ha+ perim_m+COD_IHA + (1 | wetland_name) + (1 | year_periods), data = datos.p)  # A este se le comprueba todas las asunciones menos la de esfericidad
leveneTest(lswi~wetland_or_buffer, data=datos, center="median") 	#HOMOCEDASTICIDAD solo categóricas
leveneTest(lswi~wetland_or_buffer+protection_yes_no, data=datos, center="median") 	#HOMOCEDASTICIDAD solo categóricas
leveneTest(lswi~wetland_or_buffer:protection_yes_no, data=datos, center="median") 	#HOMOCEDASTICIDAD solo categóricas
setwd("D:/Escritorio/TFM/rTFM")
datos_ndvi <-read_excel("Excel/NDWI_zones_hum_buf.xlsx", sheet=1)
# ANOVA de medidas repetidas con ezANOVA
library(ez)
datos_ndvi$wetland_name <- as.factor(datos_ndvi$wetland_name)
datos_ndvi$year <- as.factor(datos_ndvi$year)
datos_ndvi$year_periods <- as.factor(datos_ndvi$year_periods)
dv = ndvi,                   # La variable dependiente (lo que queremos analizar)
# ANOVA de medidas repetidas con ezANOVA
library(ez)
datos_ndvi$wetland_name <- as.factor(datos_ndvi$wetland_name)
datos_ndvi$year <- as.factor(datos_ndvi$year)
datos_ndvi$protection_yes_no <- as.factor(datos_ndvi$protection_yes_no)
############REVISAR
data = datos_ndvi,                # El dataframe con los datos_ndvi
datos_ndvi <-read_excel("Excel/NDWI_zones_hum_buf.xlsx", sheet=1)
# ANOVA de medidas repetidas con ezANOVA
library(ez)
datos_ndvi$wetland_name <- as.factor(datos_ndvi$wetland_name)
datos_ndvi$year <- as.factor(datos_ndvi$year)
datos_ndvi$protection_yes_no <- as.factor(datos_ndvi$protection_yes_no)
############REVISAR
data = datos_ndvi,                # El dataframe con los datos_ndvi
############REVISAR
ez_results <- ezANOVA(
data = datos_ndvi,                # El dataframe con los datos_ndvi
dv = ndvi,                   # La variable dependiente (lo que queremos analizar)
wid = wetland_name,          # réplica o factor aleatorio entre réplicas (en este caso los humedales)
within_full = .(year),       # variable interna dentro del diseño que se debe al tiempo + _full porque los valores no han sido condensados en una única cifra
between=wetland_or_buffer,
,   # entre qué queremos comparar: factor
detailed = TRUE              # Para obtener todos los resulta
)
head(datos_ndvi)
datos_ndvi <-read_excel("Excel/NDVI_zones_hum_buf.xlsx", sheet=1)
# ANOVA de medidas repetidas con ezANOVA
library(ez)
datos_ndvi$wetland_name <- as.factor(datos_ndvi$wetland_name)
datos_ndvi$year <- as.factor(datos_ndvi$year)
datos_ndvi$protection_yes_no <- as.factor(datos_ndvi$protection_yes_no)
############REVISAR
ez_results <- ezANOVA(
data = datos_ndvi,                # El dataframe con los datos_ndvi
dv = ndvi,                   # La variable dependiente (lo que queremos analizar)
wid = wetland_name,          # réplica o factor aleatorio entre réplicas (en este caso los humedales)
within_full = .(year),       # variable interna dentro del diseño que se debe al tiempo + _full porque los valores no han sido condensados en una única cifra
between=wetland_or_buffer,
,   # entre qué queremos comparar: factor
detailed = TRUE              # Para obtener todos los resulta
)
ez_results
############REVISAR
ez_results <- ezANOVA(
data = datos_ndvi,                # El dataframe con los datos_ndvi
dv = ndvi,                   # La variable dependiente (lo que queremos analizar)
wid = wetland_name,          # réplica o factor aleatorio entre réplicas (en este caso los humedales)
within_full = .(year),       # variable interna dentro del diseño que se debe al tiempo + _full porque los valores no han sido condensados en una única cifra
between=protection_yes_no,
,   # entre qué queremos comparar: factor
detailed = TRUE              # Para obtener todos los resulta
)
ez_results
############REVISAR
ez_results <- ezANOVA(
data = datos,                # El dataframe con los datos_ndvi
dv = ndvi,                   # La variable dependiente (lo que queremos analizar)
wid = wetland_name,          # réplica o factor aleatorio entre réplicas (en este caso los humedales)
within_full = .(year),       # variable interna dentro del diseño que se debe al tiempo + _full porque los valores no han sido condensados en una única cifra
between=protection_yes_no,
,   # entre qué queremos comparar: factor
detailed = TRUE              # Para obtener todos los resulta
)
############REVISAR
ez_results <- ezANOVA(
data = datos,                # El dataframe con los datos_ndvi
dv = ndvi,                   # La variable dependiente (lo que queremos analizar)
wid = wetland_name,          # réplica o factor aleatorio entre réplicas (en este caso los humedales)
within_full = .(year),       # variable interna dentro del diseño que se debe al tiempo + _full porque los valores no han sido condensados en una única cifra
between=lswi,
,   # entre qué queremos comparar: factor
detailed = TRUE              # Para obtener todos los resulta
)
ez_results
############REVISAR
ez_results <- ezANOVA(
data = datos,                # El dataframe con los datos_ndvi
dv = ndvi,                   # La variable dependiente (lo que queremos analizar)
wid = wetland_name,          # réplica o factor aleatorio entre réplicas (en este caso los humedales)
within_full = .(year),       # variable interna dentro del diseño que se debe al tiempo + _full porque los valores no han sido condensados en una única cifra
between=lswi,
,   # entre qué queremos comparar: factor
detailed = TRUE              # Para obtener todos los resulta
)
setwd("D:/Escritorio/TFM/rTFM")
datos <-read_excel("Excel/LSWI_zones_hum_buf.xlsx", sheet=1)
# ANOVA de medidas repetidas con ezANOVA
library(ez)
datos$wetland_name <- as.factor(datos$wetland_name)
datos$year <- as.factor(datos$year)
datos.p$year_periods <- as.factor(datos.p$year_periods)
datos$protection_yes_no <- as.factor(datos$protection_yes_no)
datos.p$protection_yes_no <- as.factor(datos.p$protection_yes_no)
############REVISAR
ez_results <- ezANOVA(
data = datos,                # El dataframe con los datos_ndvi
dv = ndvi,                   # La variable dependiente (lo que queremos analizar)
wid = wetland_name,          # réplica o factor aleatorio entre réplicas (en este caso los humedales)
within_full = .(year),       # variable interna dentro del diseño que se debe al tiempo + _full porque los valores no han sido condensados en una única cifra
between=lswi,
,   # entre qué queremos comparar: factor
detailed = TRUE              # Para obtener todos los resulta
)
ez_results
############REVISAR
ez_results <- ezANOVA(
data = datos,                # El dataframe con los datos_ndvi
dv = lswi,                   # La variable dependiente (lo que queremos analizar)
wid = wetland_name,          # réplica o factor aleatorio entre réplicas (en este caso los humedales)
within_full = .(year),       # variable interna dentro del diseño que se debe al tiempo + _full porque los valores no han sido condensados en una única cifra
between=ndvi,
,   # entre qué queremos comparar: factor
detailed = TRUE              # Para obtener todos los resulta
)
ez_results
datos <-read_excel("Excel/LSWI_zones_hum_buf.xlsx", sheet=1)
datos.p <-read_excel("Excel/LSWI_zones_hum_buf.xlsx", sheet=2)
# ANOVA de medidas repetidas con ezANOVA
library(ez)
datos$wetland_name <- as.factor(datos$wetland_name)
datos$year <- as.factor(datos$year)
datos.p$year_periods <- as.factor(datos.p$year_periods)
datos$protection_yes_no <- as.factor(datos$protection_yes_no)
datos.p$protection_yes_no <- as.factor(datos.p$protection_yes_no)
############REVISAR
ez_results <- ezANOVA(
data = datos,                # El dataframe con los datos
dv = lswi,                   # La variable dependiente (lo que queremos analizar)
wid = wetland_name,          # réplica o factor aleatorio entre réplicas (en este caso los humedales)
within_full = .(year),       # variable interna dentro del diseño que se debe al tiempo + _full porque los valores no han sido condensados en una única cifra
between=wetland_or_buffer,
,   # entre qué queremos comparar: factor
detailed = TRUE              # Para obtener todos los resultados detallados
)
ez_results
ez_results.p <- ezANOVA(
data = datos,                # El dataframe con los datos
dv = ndvi_periods,                   # La variable dependiente (lo que queremos analizar)
wid = wetland_name,          # réplica o factor aleatorio entre réplicas (en este caso los humedales)
within_full = .(year_periods),       # variable interna dentro del diseño que se debe al tiempo + _full porque los valores no han sido condensados en una única cifra
between=wetland_or_buffer,
,   # entre qué queremos comparar: factor
detailed = TRUE              # Para obtener todos los resultados detallados
)
ez_results.p
ez_results <- ezANOVA(
data = datos,                # El dataframe con los datos
dv = ndvi_periods,                   # La variable dependiente (lo que queremos analizar)
wid = wetland_name,          # réplica o factor aleatorio entre réplicas (en este caso los humedales)
within_full = .(year_periods),       # variable interna dentro del diseño que se debe al tiempo + _full porque los valores no han sido condensados en una única cifra
between=wetland_or_buffer,
,   # entre qué queremos comparar: factor
detailed = TRUE              # Para obtener todos los resultados detallados
)
datos.p <-read_excel("Excel/LSWI_zones_hum_buf.xlsx", sheet=2)
# ANOVA de medidas repetidas con ezANOVA
library(ez)
datos$wetland_name <- as.factor(datos$wetland_name)
datos$year <- as.factor(datos$year)
datos.p$year_periods <- as.factor(datos.p$year_periods)
datos$protection_yes_no <- as.factor(datos$protection_yes_no)
datos.p$protection_yes_no <- as.factor(datos.p$protection_yes_no)
############REVISAR
ez_results <- ezANOVA(
data = datos,                # El dataframe con los datos
dv = lswi,                   # La variable dependiente (lo que queremos analizar)
wid = wetland_name,          # réplica o factor aleatorio entre réplicas (en este caso los humedales)
within_full = .(year),       # variable interna dentro del diseño que se debe al tiempo + _full porque los valores no han sido condensados en una única cifra
between=wetland_or_buffer,
,   # entre qué queremos comparar: factor
detailed = TRUE              # Para obtener todos los resultados detallados
)
ez_results
ez_results <- ezANOVA(
data = datos,                # El dataframe con los datos
dv = ndvi_periods,                   # La variable dependiente (lo que queremos analizar)
wid = wetland_name,          # réplica o factor aleatorio entre réplicas (en este caso los humedales)
within_full = .(year_periods),       # variable interna dentro del diseño que se debe al tiempo + _full porque los valores no han sido condensados en una única cifra
between=wetland_or_buffer,
,   # entre qué queremos comparar: factor
detailed = TRUE              # Para obtener todos los resultados detallados
)
ez_results
#periodos: significativo: wetland_or_buffer
#no significativo: protection_yes_no, hydro_periods, location, environmental_protection, conservation 0.059, sup_ha, perim_m,COD_IHA
library(lme4)
modeloAMR <- lmer(lswi ~ wetland_or_buffer + (1 | wetland_name) + (1 | year), data = datos)  # A este se le comprueba todas las asunciones menos la de esfericidad
modeloAMR2 <- lmer(lswi_periods ~ protection_yes_no + hydro_periods+ location+ environmental_protection+ conservation + sup_ha+ perim_m+COD_IHA + (1 | wetland_name) + (1 | year_periods), data = datos.p)  # A este se le comprueba todas las asunciones menos la de esfericidad
#PAQUETES DE R: ASUNCIONES
library(nortest)
library(lmtest)
library(car)
ez_results <- ezANOVA(
data = datos.p,                # El dataframe con los datos
dv = ndvi_periods,                   # La variable dependiente (lo que queremos analizar)
wid = wetland_name,          # réplica o factor aleatorio entre réplicas (en este caso los humedales)
within_full = .(year_periods),       # variable interna dentro del diseño que se debe al tiempo + _full porque los valores no han sido condensados en una única cifra
between=wetland_or_buffer,
,   # entre qué queremos comparar: factor
detailed = TRUE              # Para obtener todos los resultados detallados
)
ez_results
ez_results <- ezANOVA(
data = datos.p,                # El dataframe con los datos
dv = ndvi_periods,                   # La variable dependiente (lo que queremos analizar)
wid = wetland_name,          # réplica o factor aleatorio entre réplicas (en este caso los humedales)
within_full = .(year_periods),       # variable interna dentro del diseño que se debe al tiempo + _full porque los valores no han sido condensados en una única cifra
between=protection_yes_no,
,   # entre qué queremos comparar: factor
detailed = TRUE              # Para obtener todos los resultados detallados
)
ez_results
ez_results <- ezANOVA(
data = datos.p,                # El dataframe con los datos
dv = ndvi_periods,                   # La variable dependiente (lo que queremos analizar)
wid = wetland_name,          # réplica o factor aleatorio entre réplicas (en este caso los humedales)
within_full = .(year_periods),       # variable interna dentro del diseño que se debe al tiempo + _full porque los valores no han sido condensados en una única cifra
between=location,
,   # entre qué queremos comparar: factor
detailed = TRUE              # Para obtener todos los resultados detallados
)
ez_results
modeloAMR <- lmer(lswi ~ wetland_or_buffer + ndvi + (1 | wetland_name) + (1 | year), data = datos)  # A este se le comprueba todas las asunciones menos la de esfericidad
modeloAMR
modeloAMR <- lmer(lswi ~ wetland_or_buffer + ndvi + protection_yes_no + (1 | wetland_name) + (1 | year), data = datos)  # A este se le comprueba todas las asunciones menos la de esfericidad
modeloAMR
?lmer
ez_results <- ezANOVA(
data = datos.p,                # El dataframe con los datos
dv = ndvi_periods,                   # La variable dependiente (lo que queremos analizar)
wid = wetland_name,          # réplica o factor aleatorio entre réplicas (en este caso los humedales)
within_full = .(year_periods),       # variable interna dentro del diseño que se debe al tiempo + _full porque los valores no han sido condensados en una única cifra
between=protection_yes_no + ndvi,
,   # entre qué queremos comparar: factor
detailed = TRUE              # Para obtener todos los resultados detallados
)
datos.p <-read_excel("Excel/LSWI_zones_hum_buf.xlsx", sheet=2)
# ANOVA de medidas repetidas con ezANOVA
library(ez)
datos$wetland_name <- as.factor(datos$wetland_name)
datos$year <- as.factor(datos$year)
datos.p$year_periods <- as.factor(datos.p$year_periods)
datos$protection_yes_no <- as.factor(datos$protection_yes_no)
datos.p$protection_yes_no <- as.factor(datos.p$protection_yes_no)
############REVISAR
ez_results <- ezANOVA(
data = datos,                # El dataframe con los datos
dv = lswi,                   # La variable dependiente (lo que queremos analizar)
wid = wetland_name,          # réplica o factor aleatorio entre réplicas (en este caso los humedales)
within_full = .(year),       # variable interna dentro del diseño que se debe al tiempo + _full porque los valores no han sido condensados en una única cifra
between=wetland_or_buffer,
,   # entre qué queremos comparar: factor
detailed = TRUE              # Para obtener todos los resultados detallados
)
ez_results
ez_results <- ezANOVA(
data = datos.p,                # El dataframe con los datos
dv = ndvi_periods,                   # La variable dependiente (lo que queremos analizar)
wid = wetland_name,          # réplica o factor aleatorio entre réplicas (en este caso los humedales)
within_full = .(year_periods),       # variable interna dentro del diseño que se debe al tiempo + _full porque los valores no han sido condensados en una única cifra
between=protection_yes_no + ndvi,
,   # entre qué queremos comparar: factor
detailed = TRUE              # Para obtener todos los resultados detallados
)
ez_results
ez_results <- ezANOVA(
data = datos.p,                # El dataframe con los datos
dv = ndvi_periods,                   # La variable dependiente (lo que queremos analizar)
wid = wetland_name,          # réplica o factor aleatorio entre réplicas (en este caso los humedales)
within_full = .(year_periods),       # variable interna dentro del diseño que se debe al tiempo + _full porque los valores no han sido condensados en una única cifra
between=protection_yes_no + lswi,
,   # entre qué queremos comparar: factor
detailed = TRUE              # Para obtener todos los resultados detallados
)
ez_results
ez_results <- ezANOVA(
data = datos.p,                # El dataframe con los datos
dv = ndvi_periods,                   # La variable dependiente (lo que queremos analizar)
wid = wetland_name,          # réplica o factor aleatorio entre réplicas (en este caso los humedales)
within_full = .(year_periods),       # variable interna dentro del diseño que se debe al tiempo + _full porque los valores no han sido condensados en una única cifra
between=protection_yes_no + lswi_periods,
,   # entre qué queremos comparar: factor
detailed = TRUE              # Para obtener todos los resultados detallados
)
ez_results
ezDesign(datos.p)
?ezDesign()
ez_results <- ezANOVA(
data = datos.p,                # El dataframe con los datos
dv = lswi_periods,                   # La variable dependiente (lo que queremos analizar)
wid = wetland_name,          # réplica o factor aleatorio entre réplicas (en este caso los humedales)
within_full = .(year_periods),       # variable interna dentro del diseño que se debe al tiempo + _full porque los valores no han sido condensados en una única cifra
between=protection_yes_no + wetland_or_buffer,
,   # entre qué queremos comparar: factor
detailed = TRUE              # Para obtener todos los resultados detallados
)
ez_results
modeloAMR2 <- lmer(lswi_periods ~ protection_yes_no + hydro_periods+ location+ environmental_protection+ conservation + sup_ha+ perim_m+COD_IHA + (1 | wetland_name) + (1 | year_periods), data = datos.p)  # A este se le comprueba todas las asunciones menos la de esfericidad
modeloAMR2
Anova(modeloAMR2)
summary(modeloAMR2)
