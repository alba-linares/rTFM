par(mfrow = c(2, 2), mar = c(5, 5, 2, 2))
colores <- c("black", "green")
pie(table(datos_ENP$PRESENCIA_ZONA_NAT),
main = "Distribución de PRESENCIA ZONA NAT en humedales protegidos",
col = colores[as.numeric(names(tab1)) + 1])
datos <-read_excel("Cartografia/output/puntos_analisis/puntos_hic_zonas_naturales.xlsx", sheet = 1)
# Categorizar como factor
datos[2:9] <- lapply(datos[2:9], as.factor)
datos$CODIGO_UE2 <- lapply(datos$CODIGO_UE2, as.factor)
datos$CODIGO_UE3 <- lapply(datos$CODIGO_UE3, as.factor)
datos$CODIGO_UE4 <- lapply(datos$CODIGO_UE4, as.factor)
datos[18:33] <- lapply(datos[18:33], as.factor)
datos$PRESENCIA_ZONA_NAT<- lapply(datos$PRESENCIA_ZONA_NAT, as.factor)
# Deshacer lista
datos$CODIGO_UE2<-unlist(datos$CODIGO_UE2)
datos$CODIGO_UE3<-unlist(datos$CODIGO_UE3)
datos$CODIGO_UE4<-unlist(datos$CODIGO_UE4)
datos$PRESENCIA_ZONA_NAT<-unlist(datos$PRESENCIA_ZONA_NAT)
pie(table(datos$GRUPO_TIPO))
# Cargar las librerías
library(readxl)
datos <-read_excel("Cartografia/output/puntos_analisis/puntos_hic_zonas_naturales.xlsx", sheet = 1)
# Categorizar como factor
datos[2:9] <- lapply(datos[2:9], as.factor)
datos$CODIGO_UE2 <- lapply(datos$CODIGO_UE2, as.factor)
datos$CODIGO_UE3 <- lapply(datos$CODIGO_UE3, as.factor)
datos$CODIGO_UE4 <- lapply(datos$CODIGO_UE4, as.factor)
datos[18:33] <- lapply(datos[18:33], as.factor)
datos$PRESENCIA_ZONA_NAT<- lapply(datos$PRESENCIA_ZONA_NAT, as.factor)
# Deshacer lista
datos$CODIGO_UE2<-unlist(datos$CODIGO_UE2)
datos$CODIGO_UE3<-unlist(datos$CODIGO_UE3)
datos <-read_excel("Cartografia/output/puntos_analisis/puntos_hic_zonas_naturales.xlsx", sheet = 1)
# Leer los archivos
setwd("D:/Escritorio/TFM/rTFM")
datos <-read_excel("Cartografia/output/puntos_analisis/puntos_hic_zonas_naturales.xlsx", sheet = 1)
# Categorizar como factor
datos[2:9] <- lapply(datos[2:9], as.factor)
datos$CODIGO_UE2 <- lapply(datos$CODIGO_UE2, as.factor)
datos$CODIGO_UE3 <- lapply(datos$CODIGO_UE3, as.factor)
datos$CODIGO_UE4 <- lapply(datos$CODIGO_UE4, as.factor)
datos[18:33] <- lapply(datos[18:33], as.factor)
datos$PRESENCIA_ZONA_NAT<- lapply(datos$PRESENCIA_ZONA_NAT, as.factor)
# Deshacer lista
datos$CODIGO_UE2<-unlist(datos$CODIGO_UE2)
datos$CODIGO_UE3<-unlist(datos$CODIGO_UE3)
datos$CODIGO_UE4<-unlist(datos$CODIGO_UE4)
datos$PRESENCIA_ZONA_NAT<-unlist(datos$PRESENCIA_ZONA_NAT)
datos_ENP <- subset(datos, datos$ENP=="1")
datos_noENP <- subset(datos, datos$ENP=="0")
par(mfrow = c(2, 2), mar = c(5, 5, 2, 2))
colores <- c("black", "green")
pie(table(datos_ENP$PRESENCIA_ZONA_NAT),
main = "Distribución de PRESENCIA ZONA NAT en humedales protegidos",
col = colores[as.numeric(names(tab1)) + 1])
pie(table(datos_ENP$PRESENCIA_HIC),
main = "Distribución de PRESENCIA HIC en humedales protegidos",
col = colores[as.numeric(names(tab1)) + 1])
pie(table(datos_ENP$PRESENCIA_ZONA_NAT),
main = "Distribución de PRESENCIA ZONA NAT en humedales protegidos",
col = colores[as.numeric(names(table(datos_ENP$PRESENCIA_ZONA_NAT))) + 1])
pie(table(datos_ENP$PRESENCIA_HIC),
col = colores[as.numeric(names(table(datos_ENP$PRESENCIA_HIC)) + 1])
pie(table(datos_noENP$PRESENCIA_ZONA_NAT),
col = colores[as.numeric(names(table(datos_noENP$PRESENCIA_ZONA_NAT)) + 1])
par(mfrow = c(2, 2), mar = c(5, 5, 2, 2))
colores <- c("black", "green")
tab1 <- table(datos_ENP$PRESENCIA_ZONA_NAT)
pie(tab1,
main = "Distribución de PRESENCIA ZONA NAT en humedales protegidos",
col = colores[as.numeric(names(tab1)) + 1])  # +1 porque negro es para 0
# Gráfico 2: Datos ENP - PRESENCIA_HIC
tab2 <- table(datos_ENP$PRESENCIA_HIC)
pie(tab2,
main = "Distribución de PRESENCIA HIC en humedales protegidos",
col = colores[as.numeric(names(tab2)) + 1])  # +1 porque negro es para 0
# Gráfico 3: Datos no ENP - PRESENCIA_ZONA_NAT
tab3 <- table(datos_noENP$PRESENCIA_ZONA_NAT)
pie(tab3,
main = "Distribución de PRESENCIA ZONA NAT en humedales no protegidos",
col = colores[as.numeric(names(tab3)) + 1])  # +1 porque negro es para 0
# Gráfico 4: Datos no ENP - PRESENCIA_HIC
tab4 <- table(datos_noENP$PRESENCIA_HIC)
pie(tab4,
main = "Distribución de PRESENCIA HIC en humedales no protegidos",
col = colores[as.numeric(names(tab4)) + 1])
par(mfrow = c(2, 2), mar = c(5, 5, 2, 2))
pie(table(datos_ENP$PRESENCIA_ZONA_NAT))
pie(table(datos_ENP$PRESENCIA_HIC))
pie(table(datos_noENP$PRESENCIA_ZONA_NAT))
pie(table(datos_noENP$PRESENCIA_HIC))
pie(table(datos_ENP$PRESENCIA_HIC), col = c("white","blue"))
pie(table(datos_noENP$PRESENCIA_ZONA_NAT))
pie(table(datos_noENP$PRESENCIA_HIC))
pie(table(datos_ENP$PRESENCIA_HIC), col = c("white","lightblue"))
par(mfrow = c(2, 2), mar = c(5, 5, 2, 2))
pie(table(datos_ENP$PRESENCIA_ZONA_NAT), col = c("white","lightblue"))
pie(table(datos_ENP$PRESENCIA_HIC), col = c("white","lightblue"))
pie(table(datos_noENP$PRESENCIA_ZONA_NAT), col = c("white","lightblue"))
pie(table(datos_noENP$PRESENCIA_HIC), col = c("white","lightblue"))
pie(table(datos_ENP$PRESENCIA_ZONA_NAT), col = c("white","lightblue"))
pie(table(datos_ENP$PRESENCIA_HIC), col = c("lightblue", "white"))
pie(table(datos_noENP$PRESENCIA_ZONA_NAT), col = c("white","lightblue"))
pie(table(datos_noENP$PRESENCIA_HIC), col = c("lightblue","white"))
modelo_glm3 <- glm(PRESENCIA_HIC~datos$SIOSE_T_ES, family = binomial, data=datos)
Anova(modelo_glm3)
library(car)
Anova(modelo_glm3)
Tukey2<-glht(modelo_glm3, mcp(SIOSE_T_ES="Tukey")) #¿Por qué no me sale?
library(multcomp) # Tukey
Tukey2<-glht(modelo_glm3, mcp(SIOSE_T_ES="Tukey")) #¿Por qué no me sale?
modelo_glm3 <- glm(PRESENCIA_HIC~datos$SIOSE_T_ES, family = binomial, data=datos)
Anova(modelo_glm3)
Tukey2<-glht(modelo_glm3, mcp(datos$SIOSE_T_ES="Tukey")) #¿Por qué no me sale?
Tukey2<-glht(modelo_glm3, mcp(SIOSE_T_ES="Tukey")) #¿Por qué no me sale?
modelo_glm3 <- glm(PRESENCIA_HIC~datos$MUCVA_T_ES*SIOSE_T_ES, family = binomial, data=datos)
Anova(modelo_glm3)
Tukey2<-glht(modelo_glm3, mcp(SIOSE_T_ES="Tukey")) #¿Por qué no me sale?
modelo_glm3 <- glm(PRESENCIA_HIC~datos$MUCVA_T_ES*SIOSE_T_ES, contrasts=list(MUCVA_T_ES=contr.sum,SIOSE_T_ES=contr.sum), family = binomial, data=datos)
Anova(modelo_glm3)
Tukey2<-glht(modelo_glm3, mcp(SIOSE_T_ES="Tukey")) #¿Por qué no me sale?
modelo_glm3 <- glm(PRESENCIA_HIC~datos$MUCVA_T_ES*SIOSE_T_ES, contrasts=list(MUCVA_T_ES=contr.sum,SIOSE_T_ES=contr.sum), family = binomial, data=datos)
Anova(modelo_glm3)
Tukey2<-glht(modelo_glm3, mcp(SIOSE_T_ES="Tukey")) #¿Por qué no me sale?
summary(modelo_glm3)
summary(modelo_glm3)
datos$SIOSE_T_ES<- lapply(datos$SIOSE_T_ES, as.factor)
str(datos$SIOSE_T_ES)
datos$SIOSE_T_ES<- unlist(datos$SIOSE_T_ES)
modelo_glm3 <- glm(PRESENCIA_HIC~datos$MUCVA_T_ES*SIOSE_T_ES, contrasts=list(MUCVA_T_ES=contr.sum,SIOSE_T_ES=contr.sum), family = binomial, data=datos)
summary(modelo_glm3)
View(datos)
unique(datos$SIOSE_T_ES)
getOption("max.print")
modelo_glm4 <- glm(PRESENCIA_HIC~datos$MUCVA_T_ES+SIOSE_T_ES, family = binomial, data=datos)
summary(modelo_glm4)
modelo_glm5 <- glm(PRESENCIA_HIC~datos$SIOSE_T_ES, family = binomial, data=datos)
summary(modelo_glm5)
modelo_glm5 <- glm(PRESENCIA_HIC~datos$SIOSE_C_ES, family = binomial, data=datos)
summary(modelo_glm5)
unique(datos$SIOSE_T_ES)
modelo_glm4 <- glm(PRESENCIA_HIC~datos$MUCVA_C_ES+SIOSE_T_ES, family = binomial, data=datos)
summary(modelo_glm4)
modelo_glm4 <- glm(PRESENCIA_HIC~datos$MUCVA_C_ES+SIOSE_C_ES, family = binomial, data=datos)
summary(modelo_glm4)
modelo_glm3 <- glm(PRESENCIA_HIC~datos$MUCVA_C_ES*SIOSE_C_ES, contrasts=list(MUCVA_T_ES=contr.sum,SIOSE_T_ES=contr.sum), family = binomial, data=datos)
summary(modelo_glm3)
datos <-read_excel("Cartografia/output/puntos_analisis/puntos_hic_zonas_naturales.xlsx", sheet = 1)
# Categorizar como factor
datos[2:9] <- lapply(datos[2:9], as.factor)
datos$CODIGO_UE2 <- lapply(datos$CODIGO_UE2, as.factor)
datos$CODIGO_UE3 <- lapply(datos$CODIGO_UE3, as.factor)
datos$CODIGO_UE4 <- lapply(datos$CODIGO_UE4, as.factor)
datos[18:33] <- lapply(datos[18:33], as.factor)
datos$PRESENCIA_ZONA_NAT<- lapply(datos$PRESENCIA_ZONA_NAT, as.factor)
datos$SIOSE_T_ES<- lapply(datos$SIOSE_T_ES, as.factor)
datos <-read_excel("Cartografia/output/puntos_analisis/puntos_hic_zonas_naturales.xlsx", sheet = 1)
# Categorizar como factor
datos[2:9] <- lapply(datos[2:9], as.factor)
datos$CODIGO_UE2 <- lapply(datos$CODIGO_UE2, as.factor)
datos$CODIGO_UE3 <- lapply(datos$CODIGO_UE3, as.factor)
datos$CODIGO_UE4 <- lapply(datos$CODIGO_UE4, as.factor)
datos[18:33] <- lapply(datos[18:33], as.factor)
datos$PRESENCIA_ZONA_NAT<- lapply(datos$PRESENCIA_ZONA_NAT, as.factor)
# Deshacer lista
datos$CODIGO_UE2<-unlist(datos$CODIGO_UE2)
datos$CODIGO_UE3<-unlist(datos$CODIGO_UE3)
datos$CODIGO_UE4<-unlist(datos$CODIGO_UE4)
datos$PRESENCIA_ZONA_NAT<-unlist(datos$PRESENCIA_ZONA_NAT)
pie(table(datos$GRUPO_TIPO))
pie(table(datos$PRESENCIA_ZONA_NAT))
pie(table(datos$PRESENCIA_HIC))
#
datos_cambios <- subset(datos, datos$COMPARACION=="DISTINTO")
modelo_glm6 <- glm(COMPARACION~datos$SIOSE_C_ES, family = binomial, data=datos)
modelo_lm <- lm(COMPARACION~datos$SIOSE_C_ES, data=datos)
modelo_glm6 <- glm(PRESENCIA_HIC~COMPARACION, family = binomial, data=datos)
summary(modelo_glm6)
# Tukey
datos2<-datos[-5]
# Tukey
datos2<-datos[-5]
table(datos_cambios$SIOSE_T_ES)
table(datos_cambios$SIOSE_T_ES)=abc
cambio_usos<-table(datos_cambios$SIOSE_T_ES)
as.data.frame(cambio_usos)
datos <-read_excel("Cartografia/output/puntos_analisis/puntos_hic_zonas_naturales.xlsx", sheet = 1)
# Categorizar como factor
datos[2:9] <- lapply(datos[2:9], as.factor)
datos$CODIGO_UE2 <- lapply(datos$CODIGO_UE2, as.factor)
datos$CODIGO_UE3 <- lapply(datos$CODIGO_UE3, as.factor)
datos$CODIGO_UE4 <- lapply(datos$CODIGO_UE4, as.factor)
datos[18:33] <- lapply(datos[18:33], as.factor)
datos$PRESENCIA_ZONA_NAT<- lapply(datos$PRESENCIA_ZONA_NAT, as.factor)
# Deshacer lista
datos$CODIGO_UE2<-unlist(datos$CODIGO_UE2)
datos$CODIGO_UE3<-unlist(datos$CODIGO_UE3)
datos$CODIGO_UE4<-unlist(datos$CODIGO_UE4)
datos$PRESENCIA_ZONA_NAT<-unlist(datos$PRESENCIA_ZONA_NAT)
pie(table(datos$GRUPO_TIPO))
#De los que han cambiado, ¿qué hay ahora?:
datos_cambios <- subset(datos, datos$COMPARACION=="DISTINTO")
cambio_usos<-table(datos_cambios$SIOSE_T_ES)
as.data.frame(cambio_usos)
datos <-read_excel("Cartografia/output/puntos_analisis/puntos_hic_zonas_naturales.xlsx", sheet = 1)
# Categorizar como factor
datos[2:9] <- lapply(datos[2:9], as.factor)
datos$CODIGO_UE2 <- lapply(datos$CODIGO_UE2, as.factor)
datos$CODIGO_UE3 <- lapply(datos$CODIGO_UE3, as.factor)
datos$CODIGO_UE4 <- lapply(datos$CODIGO_UE4, as.factor)
datos[18:33] <- lapply(datos[18:33], as.factor)
datos$PRESENCIA_ZONA_NAT<- lapply(datos$PRESENCIA_ZONA_NAT, as.factor)
# Deshacer lista
datos$CODIGO_UE2<-unlist(datos$CODIGO_UE2)
datos$CODIGO_UE3<-unlist(datos$CODIGO_UE3)
datos$CODIGO_UE4<-unlist(datos$CODIGO_UE4)
datos$PRESENCIA_ZONA_NAT<-unlist(datos$PRESENCIA_ZONA_NAT)
#De los que han cambiado, ¿qué hay ahora?:
datos_cambios <- subset(datos, datos$COMPARACION=="DISTINTO")
cambio_usos<-table(datos_cambios$SIOSE_T_ES)
as.data.frame(cambio_usos)
modelo_glm6 <- glm(PRESENCIA_HIC~datos$MUCVA_C_GE*SIOSE_C_GE, contrasts=list(MUCVA_T_GE=contr.sum,SIOSE_T_GE=contr.sum), family = binomial, data=datos)
summary(modelo_glm6)
?levels(datos$MUCVA_C_GE)
levels(datos$MUCVA_C_GE)
levels(datos$MUCVA_T_GE)
modelo_glm6 <- glm(PRESENCIA_HIC~datos$MUCVA_C_GE*SIOSE_C_GE, contrasts=list(MUCVA_C_GE=contr.sum,SIOSE_C_GE=contr.sum), family = binomial, data=datos)
summary(modelo_glm6)
modelo_glm6 <- glm(PRESENCIA_HIC~datos$MUCVA_C_GE:SIOSE_C_GE, family = binomial, data=datos)
summary(modelo_glm6)
as.data.frame(cambio_usos)
cambio_usos_general<-table(datos_cambios$SIOSE_T_GE)
as.data.frame(cambio_usos_general)
?table
cambio_usos_general<-table(datos_cambios$MUCVA_T_GE,datos_cambios$SIOSE_T_GE)
as.data.frame(cambio_usos_general)
df_cambio_usos_general<-as.data.frame(cambio_usos_general)
View(df_cambio_usos_general)
View(df_cambio_usos_general)
library(dplyr)
frecuencia_cambio_usos <- datos %>%
group_by(MUCVA_T_GE, SIOSE_T_GE) %>%
count()
frecuencia_cambio_usos
View(as.data.frame(frecuencia_cambio_usos))
library(dplyr)
frecuencia_cambio_usos <- datos %>%
group_by(MUCVA_C_GE, SIOSE_C_GE) %>%
count()
# Tukey
datos2<-datos[-5]
View(as.data.frame(frecuencia_cambio_usos))
frecuencia_cambio_usos <- datos_cambios %>%
group_by(MUCVA_C_GE, SIOSE_C_GE) %>%
count()
View(as.data.frame(frecuencia_cambio_usos))
modelo_glm7 <- glm(PRESENCIA_HIC~datos$MUCVA_C_GE:SIOSE_C_GE, family = binomial, data=datos_cambios)
modelo_glm7 <- glm(PRESENCIA_HIC~MUCVA_C_GE:SIOSE_C_GE, family = binomial, data=datos_cambios)
summary(modelo_glm7)
